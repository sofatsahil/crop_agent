CropManage API - Documentation
Users must authenticate before performing data requests. Once authenticated an access_token is used for data requests.
Before you may authenticate with the Web API you must register with https://cropmanage.ucanr.edu. Once registered, you can use your username and password in the Web API authentication process.
Version 2.0 Released
Version 2.0 Web API is now available. Version 2.0 API methods will be prefixed with a "/v2/" in the url (for example, "v2/ranches.json"). Version 2.0 Web API methods either replace existing methods or offer additional API endpoints. We recommend using the version 2.0 whenever possible, since the older API methods will be phased out over time. Here are some of the changes we made in version 2.0:
We made version 2.0 API calls as restful as possible.
Some of the calls are now transitioning to JSON format only since XML format is becoming outdated.
Version 2.0 uses Snake Cased parameters ("PlantingName", for example, instead of "planting_name"), which should be easier for caller code to consume.
API URLs are prefixed with "/v2/"
Authentication
Authentication consists of an HTTPS POST of the username and password.
Usage:
HTTP Header Requirements:
Content-type: application/x-www-form-urlencoded
POST username and password to: https://api.cropmanage.ucanr.edu/Token
POST Parameters:
username=[email_address]
password=[your_password]
grant_type=password
Example:
POST https://api.cropmanage.ucanr.edu/Token
Content-type: application/x-www-form-urlencoded
Body: username=name@email.com&password=$Hello123&grant_type=password
Response:
This returns a JSON response with an access_token and other parameters.
{
"access_token":"[access_token]",
"token_type":"bearer",
"expires_in":1209599,
"userName":"name@email.com",
".issued":"Wed, 04 Mar 2015 17:56:03 GMT",
".expires":"Wed, 18 Mar 2015 17:56:03 GMT"
}
The access_token is then used for get Data requests.
Data Requests
GET data using a valid path specifying the data output type. An access_token is required in the http header. For each request add “Authorization: Bearer [access_token]” to be authorized for requests. The example below will list all the ranches associated with the authenticated user in JSON format.
Example:
GET https://api-cropmanage.ucanr.edu/ranches/list.json
Authorization: Bearer [access_token]
CommodityType
Returns commodity type data
File
Description
API CommodityType
Returns a complete list of commodity types in CropManage.


CommodityTypeRanch
Returns commodity type data associated with a specific ranch.
File
Description
API CommodityTypeRanch
Saves a commodity type ranch association. This association determines what commodity types are available for a ranch.


CropStage
Web API to access crop stages
File
Description
API CropStage
Returns a list of crop stages associated with a commodity type


CropType
Web API to access crop types
File
Description
API CropType 1
Returns a list of all crop types in the system.
API CropType 2
Get crop type data, based on ID
API CropType 3
Returns a list of crop types associated with a ranch. Normally, a ranch is only associated with a handful of commodity types and a select number of crop types.


CutEvent
File
Description
API Cultural Event 1
Creates or updates a cut event
API Cultural Event 2
Deletes a cut event
API Cultural Event 3
Returns cut event data


ETWeatherEvent
File
Description
API ETWeather event 1
Saves an ET weather event.
API ETWeather event 2
Returns a list of ET data associated with a planting.










FertilizationEvent
API methods used for managing fertilization events
File
Description
API FertilizationEvent 1
Returns a fertilization event
API FertilizationEvent 2
Updates a fertilization event
API FertilizationEvent 3
Deletes a fertilization event
API FertilizationEvent 4
Get CropManage recommendation for a fertilization event
API FertilizationEvent 5
Single Call API endpoint for fertilization recommendation
API FertilizationEvent 6
Creates a new fertilization event







FertilizationEventWell
API for managing fertilization event wells, used to calculate N in water
File
Description
API FertilizationEventWell 1
Returns a list of wells associated with a fertilization event
API FertilizationEventWell 2
Returns a well associated with a fertilization event


Fertilizer
Web API for managing fertilizers
File
Description
WepAPI Fertilizer 1
Returns a list of fertilizers associated with a ranch
WepAPI Fertilizer 2
Add a fertilizer to a ranch.
WepAPI Fertilizer 3
Delete a fertilizer from a ranch
WepAPI Fertilizer 4
Returns a list of fertilizers that are not associated with the ranch but is available for use.




IrrigationEvent
API used to manage irrigation events
File
Description
API IrrigationEvent 1
Deletes an irrigation event
API IrrigationEvent 2
Returns an irrigation event
API IrrigationEvent 3
Returns CropManage irrigation interval recommendation for a specific irrigation event
API IrrigationEvent 4
Single call Web API endpoint for irrigation recommendations. This Web API call can be used to request irrigation recommendations from CropManage, without having to first set up ranches or plantings.
API IrrigationEvent 5
Single call Web API which returns multiple recommendations
API IrrigationEvent 6
Returns detailed irrigation data for a planting, including reference ET, canopy cover, average canopy.
API IrrigationEvent 7
Get an irrigation recommendation depending on various inputs, including event date and irrigation method.
API IrrigationEvent 8
Endpoint for the public ET calculator
API IrrigationEvent 9
Updates an irrigation event
API IrrigationEvent 10
Creates an irrigation event



LotPlantingWell
File
Description
API LotPlantingWell
Returns a list of wells associated with a planting.


Maturity
API
Description
API Maturity
Returns a list of maturities, used primarily for Alfalfa


MicroSprinkler
API
Description
API MircoSprinkler
Returns a list of micro sprinklers










Planting
Web API for Plantings
API
Description
API Planting 1
Returns planting details.
API Planting 2
Deletes a planting
API Planting 3
Returns events from a specific planting
API Planting 4
Returns rainfall data
API Planting 5
Given planting ID, start and end dates, return total applied water
API Planting 6
Returns a list of plantings from a specific ranch. The list can be filtered to only return active plantings or plantings associated with a specific commodity type.
API Planting 7
Updates a planting
API Planting 8
Creates a new planting.









Ranch
API for managing ranches
File
Description
API Ranch 1
Returns a list of ranches that the user has access to
API Ranch 2
Deletes a ranch
API Ranch 3
Returns basic ranch information.
API Ranch 4
Retrieves a user's ranch planting permissions.
API Ranch 5
Returns a user's ranch permissions
API Ranch 6
Creates a new ranch
API Ranch 7
Updates ranch information








RanchLot
File
Description
API ranch lot 1
Deletes a planting area from ranch
API ranch lot 2
Returns planting area details
API ranch lot 3
Returns a list of planting areas associated with a ranch
API ranch lot 4
Updates a planting area
API ranch lot 5
Create a new planting area


RanchWell
File
Description
API ranch well 1
Returns a list of wells associated with a ranch
API ranch well 2
Adds a well to a ranch
API ranch well 3
Deletes a well from a ranch
API ranch well 4
Updates a well
API ranch well 5
Returns well details




Region
File
Description
API Region
Returns a list of regions in CropManage. Current regions are in California and Hawaii.


SoilMoisture
API for managing soil sensor data
File
Description
API Soil moisture
Returns soil moisture data for a planting. The returned data is grouped by soil sensors.



SoilSampleEvent
API for managing soil sample events
File
Description
API soil sample event 1
Creates a new soil sample event.
API soil sample event 2
Delete a soil sample event
API soil sample event 3
Updates a soil sample event





SoilType
File
Description
API soil type 1
WARNING: This call is deprecated. CropManage no longer uses the SoilTypeJSON model. Return the soil type associated with a given lot
API soil type 2
Returns a list of all soil types in the database. This is a simple list of soil types. To retrieve soil types in more detail, call /soil-types/list.{ext}
API soil type 3
A simple call that retrieves soil web data, given coordinates. This call is intended to be used with single call web API which requires soil properties. Warning: This is restricted to registered 3rd party applications to prevent abuse.


TissueSampleEvent
File
Description
API tissue sample event 1
Delete tissue sample event
API tissue sample event 2
Returns tissue sample event details
API tissue sample event 3
Create tissue sample event
API tissue sample event 4
Update tissue sample event





TissueSampleLocation
File
Description
API tissue sample location
Returns a list of tissue sample locations.


TissueSampleNutrient
File
Description
API tissue sample nutrient
Returns a list of tissue sample nutrients


UserDetail
File
Description
API user detail
Get current logged in user's information


Users
File
Description
API user 1
Get users associated with a ranch.
API user 2
Add a user to a ranch
API user 3
Remove user from ranch



WeatherAPI
Controller used to fetch a list of weather service API records
API
Description
API weather
This controller is used to access Weather services records, like CIMIS and HoboLink.


WeatherStation
API used to manage weather stations
API
Description
API weather station 1
Add weather stations to a ranch.
API weather station 2
Returns weather stations associated with a ranch
API weather station 3
Delete weather station from ranch
API weather station 4
Return all weather stations in the database
API weather station 5
Get details for a specific weather station
API weather station 5




